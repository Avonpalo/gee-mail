<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="UTF-8">
	<title>GMail Coding Challenge</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
     


      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

      var needALine = ("===========================");

        for (var i=0; i<window.geemails.length; i++){
     	console.log(window.geemails[i].date);
     	console.log(window.geemails[i].sender);
     	console.log(window.geemails[i].subject);
     	console.log(window.geemails[i].body);
     	console.log(needALine);
      
      /*
      }
      */

     	//console.log(window.geemails);
     	


      

      /*
      var emailSubject = document.createElement("div");
      emailSubject.setAttribute("class", "subjectClass");
      emailSubject.innerHTML = window.geemails[i].subject;
      mainDiv.appendChild(emailSubject);
      

      var emailSender = document.createElement("div");
      emailSender.setAttribute("class", "senderClass");
      emailSender.innerHTML = window.geemails[i].sender;
      mainDiv.appendChild(emailSender);

 
      var emailDate = document.createElement("div");
      emailDate.setAttribute("class", "dateClass");
      emailDate.innerHTML = window.geemails[i].date;
      mainDiv.appendChild(emailDate);

      
      var emailBody = document.createElement("div");
      emailBody.setAttribute("id", "bodyId");
      emailBody.setAttribute("class", "bodyClass");
      emailBody.innerHTML = window.geemails[i].body;
      emailBody.appendChild(document.createTextNode(window.geemails[i].body));
      mainDiv.appendChild(emailBody);
      
      */
/*  
for (var i=0; i<window.geemails.length; i++){ 
*/
      
var mainDiv = document.getElementById("main");
      

  var emailSender = document.createElement("p");
  emailSender.className = "senderClass";
  emailSender.innerHTML = window.geemails[i].sender;
  mainDiv.appendChild(emailSender);

  var emailDate = document.createElement("p");
  emailDate.className = "dateClass";
  emailDate.innerHTML = window.geemails[i].date;
  mainDiv.appendChild(emailDate);
 


  var bodyShowHide = document.createElement("p");
  bodyShowHide.className = "bodyCssElem";
  main.appendChild(bodyShowHide);
 
 
  var subjShowHide = document.createElement("p");
  subjShowHide.className = "subj";
  subjShowHide.innerHTML = window.geemails[i].subject;
  bodyShowHide.appendChild(subjShowHide);

  
  var bodySH = document.createElement("p");
  bodySH.className = "bodySH";
  bodySH.innerHTML = window.geemails[i].body;
  subjShowHide.appendChild(bodySH);


var sHElem = document.getElementsByClassName("subj");

for(var i = 0; i<sHElem.length; i++){
  sHElem[i].addEventListener("click", showHide);
}


      var separator = document.createElement("p");
      separator.className = "line";
      separator.id = "separateLines";
      separator.innerHTML = "===========================";
      mainDiv.appendChild(separator);



 
    
      
        setInterval(getNewMessage, 6000);

        function getNewMessage(){
  
          for (var i = 0; i < window.geemails.length; i++){
  
            console.log(window.geemails[i].date);
            console.log(window.geemails[i].sender);
            console.log(window.geemails[i].subject);
            console.log(window.geemails[i].body);
            console.log("Inbox-Current Number of Messages: " + timer);

        /*
        var timer=setInterval(function(){i++},6000);
        */

        /*
        console.log(timer);
        */
 
       document.write("Inbox-Current Number of Messages: " + timer + "<br>");

       document.write(window.geemails[i].sender + "<br>");   
       document.write(window.geemails[i].date + "<br>");
          

       var bodyShowHide = document.createElement("p");
      bodyShowHide.className = "bodyCssElem";
      document.body.appendChild(bodyShowHide);
 
 
      var subjShowHide = document.createElement("p");
      subjShowHide.className = "subj";
      subjShowHide.innerHTML = window.geemails[i].subject;
      bodyShowHide.appendChild(subjShowHide);

  
      var bodySH = document.createElement("p");
      bodySH.className = "bodySH";
      bodySH.innerHTML = window.geemails[i].body;
      subjShowHide.appendChild(bodySH);


    
     var timer=setInterval(function(){i++},6000);
    


  }
    


      var sHElem = document.getElementsByClassName("subj");

      for(var i = 0; i<sHElem.length; i++){
      sHElem[i].addEventListener("click", showHide);
      }

  }

  }
};
      /*
      var emailSender = document.createElement("p");
      emailSender.className = "senderClass";
      emailSender.innerHTML = window.geemails[i].sender;
      mainDiv.appendChild(emailSender);

      var emailDate = document.createElement("p");
      emailDate.className = "dateClass";
      emailDate.innerHTML = window.geemails[i].date;
      mainDiv.appendChild(emailDate);
 


      var bodyShowHide = document.createElement("p");
      bodyShowHide.className = "bodyCssElem";
      main.appendChild(bodyShowHide);
 
 
      var subjShowHide = document.createElement("p");
      subjShowHide.className = "subj";
      subjShowHide.innerHTML = window.geemails[i].subject;
      bodyShowHide.appendChild(subjShowHide);

  
      var bodySH = document.createElement("p");
      bodySH.className = "bodySH";
      bodySH.innerHTML = window.geemails[i].body;
      subjShowHide.appendChild(bodySH);


      var sHElem = document.getElementsByClassName("subj");

      for(var i = 0; i<sHElem.length; i++){
      sHElem[i].addEventListener("click", showHide);
      }


      */


      /*
      var separator = document.createElement("p");
      separator.className = "line";
      separator.id = "separateLines";
      separator.innerHTML = "===========================";
      mainDiv.appendChild(separator);
      */


    
 
   function showHide(){
      var displayBody = this.querySelectorAll(".bodySH")[0];
        if(displayBody.style.display === "none"){
        displayBody.style.display = "block";
        }else{
        displayBody.style.display = "none";
     }
}
        
      

      
  



    </script>
	</head>
	<body>
		<header>
    	<h1 id = "title">2017 G-Mail Challenge</h1>
  		</header>
		<div class="container" id="main">
			<!-- Build Me! -->
	
		

   

        
    </div>


    </script>





</body>

	<!-- <script type="text/javascript"></script> -->

</html>

