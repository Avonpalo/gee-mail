<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="UTF-8">
	<title>GMail Coding Challenge</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

      var needALine = ("===========================");

        for (var i=0; i<window.geemails.length; i++){
     	console.log(window.geemails[i].date);
     	console.log(window.geemails[i].sender);
     	console.log(window.geemails[i].subject);
     	console.log(window.geemails[i].body);
     	console.log(needALine);
      }
     	//console.log(window.geemails);
     	

     	for (var i=0; i<window.geemails.length; i++){ 

      var mainDiv = document.getElementById("main");
      var emailSubject = document.createElement("div");
      emailSubject.innerHTML = window.geemails[i].subject;
      mainDiv.appendChild(emailSubject);
      

      var emailSender = document.createElement("div");
      emailSender.innerHTML = window.geemails[i].sender;
      mainDiv.appendChild(emailSender);

 
      var emailDate = document.createElement("div");
      emailDate.innerHTML = window.geemails[i].date;
      mainDiv.appendChild(emailDate);


      var emailBody = document.createElement("div");
      emailBody.setAttribute("id", "bodyId");
      emailBody.setAttribute("class", "bodyClass");
      emailBody.appendChild(document.createTextNode(window.geemails[i].body));
      mainDiv.appendChild(emailBody);


      var button = document.createElement("INPUT");
      button.setAttribute("id", "buttonBody");
      button.setAttribute("type", "button");
      button.setAttribute("value", "Show/Hide Msg.");
      mainDiv.appendChild(button);

      /*
      function myFunction() {
    var x = document.createElement("INPUT");
    x.setAttribute("type", "button");
    x.setAttribute("value", "Click me");
    document.body.appendChild(x);
}
      
      var divElem = document.getElementsByClassName("bodyClass");
      for (var i=0; i<divElem.length; i++){
        divElem[i].addEventListener("click", showHide);

      }
      
      

      function showHide(){
      var bodyElem = document.getElementById("bodyId");
        if (bodyElem.style.visibility === "hidden"){
          bodyElem.style.visibility = "visible";
        }else{
          bodyElem.style.visibility = "hidden";
    }

}
      */


      var separator = document.createElement("div");
      separator.id = "separateLines";
      separator.innerHTML = "===========================";
      mainDiv.appendChild(separator);



		}


  }; 

  /*
      setInterval(getNewMessage(), 6000);	
  */


    </script>
	</head>
	<body>
		<header>
    	<h1 id = "title">2017 G-Mail Challenge</h1>
  		</header>
		<div class="container" id="main">
			<!-- Build Me! -->
	
		<h4 id = "inbox count">Inbox-Current Number of Messages: </h4>

   

        
    </div>



      
    <button onclick="showHide()">Show/Hide Msg.</button>
    

    <script>
     
     function showHide(){
      var bodyElem = document.getElementById("bodyId");
        if (bodyElem.style.visibility === "hidden"){
          bodyElem.style.visibility = "visible";
        }else{
          bodyElem.style.visibility = "hidden";
    }

  } 

    </script>


<!--
<script language="javascript"> 
    function toggle() {
        var ele = document.getElementById("bodyId");
        var text = document.getElementById("displayText");
          if  (ele.style.display == "block") {
               ele.style.display = "none";
               text.innerHTML = "Show Msg.";
          }
          else {
               ele.style.display = "block";
               text.innerHTML = "Hide Msg.";
          }
  } 
</script>
 
<a id="displayText" href="javascript:toggle();">show</a>
<div id="toggleText" style="display: none"></div>

-->


</body>

	<!-- <script type="text/javascript"></script> -->

</html>

